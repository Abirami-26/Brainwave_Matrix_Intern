<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Day Planner</title>
  <style>
    :root {
      --bg-color: #f4f4f4;
      --text-color: #333;
      --card-color: #fff;
      --accent-color: #28a745;
    }
    body.dark-mode {
      --bg-color: #121212;
      --text-color: #f4f4f4;
      --card-color: #1f1f1f;
      --accent-color: #4caf50;
    }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      transition: background-color 0.3s, color 0.3s;
    }
    .container {
      max-width: 600px;
      margin: 20px auto;
      padding: 20px;
      background: var(--card-color);
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
    }
    .task-input {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 20px;
    }
    .task-input input, .task-input input[type="datetime-local"] {
      padding: 10px;
      font-size: 16px;
    }
    .task-input button {
      padding: 10px;
      font-size: 16px;
      background: var(--accent-color);
      color: white;
      border: none;
      cursor: pointer;
    }
    .task-list {
      list-style: none;
      padding: 0;
    }
    .task-list li {
      padding: 10px;
      border-bottom: 1px solid #ddd;
      display: flex;
      justify-content: space-between;
      flex-direction: column;
    }
    .task-list li.done {
      text-decoration: line-through;
      color: gray;
    }
    .quote {
      margin-top: 20px;
      font-style: italic;
      text-align: center;
    }
    .progress {
      margin-top: 20px;
      text-align: center;
      font-weight: bold;
    }
    .theme-toggle {
      text-align: center;
      margin-bottom: 10px;
    }
    .timer {
      text-align: center;
      margin-top: 20px;
    }
    .tip {
      text-align: center;
      font-size: 14px;
      color: #555;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="theme-toggle">
      <button onclick="toggleTheme()">Toggle Dark Mode</button>
    </div>
    <h1>Day Planner</h1>
    <div class="task-input">
      <input type="text" id="taskInput" placeholder="Enter your task..." />
      <input type="datetime-local" id="taskDue" />
      <button onclick="addTask()">Add</button>
    </div>
    <ul id="taskList" class="task-list"></ul>
    <div class="progress" id="progressTracker"></div>
    <div class="timer">
      <p><strong>Pomodoro Timer:</strong></p>
      <button onclick="startPomodoro()">Start 25 min</button>
      <div id="pomodoroDisplay">25:00</div>
    </div>
    <div class="quote" id="quote"></div>
    <div class="tip" id="dailyTip"></div>
  </div>

  <script>
    const quotes = [
      "Believe you can and you're halfway there.",
      "Do something today that your future self will thank you for.",
      "The secret of getting ahead is getting started.",
      "Success is the sum of small efforts, repeated."
    ];

    const tips = [
      "Plan tomorrow tonight.",
      "Break tasks into small steps.",
      "Stay off your phone during focus time.",
      "Drink water regularly while working."
    ];

    document.addEventListener("DOMContentLoaded", () => {
      showQuote();
      showTip();
      loadTasks();
      loadTheme();
    });

    function showQuote() {
      const quote = quotes[Math.floor(Math.random() * quotes.length)];
      document.getElementById("quote").textContent = quote;
    }

    function showTip() {
      const tip = tips[Math.floor(Math.random() * tips.length)];
      document.getElementById("dailyTip").textContent = "ðŸ’¡ Tip: " + tip;
    }

    function addTask() {
      const input = document.getElementById("taskInput");
      const due = document.getElementById("taskDue");
      const taskText = input.value.trim();
      const dueDate = due.value;
      if (taskText === "") return;
      const task = { text: taskText, due: dueDate, done: false };
      const tasks = getTasks();
      tasks.push(task);
      saveTasks(tasks);
      input.value = "";
      due.value = "";
      renderTasks();
    }

    function toggleTask(index) {
      const tasks = getTasks();
      tasks[index].done = !tasks[index].done;
      saveTasks(tasks);
      renderTasks();
    }

    function deleteTask(index) {
      const tasks = getTasks();
      tasks.splice(index, 1);
      saveTasks(tasks);
      renderTasks();
    }

    function getTasks() {
      return JSON.parse(localStorage.getItem("tasks") || "[]");
    }

    function saveTasks(tasks) {
      localStorage.setItem("tasks", JSON.stringify(tasks));
    }

    function loadTasks() {
      renderTasks();
    }

    function renderTasks() {
      const tasks = getTasks();
      const list = document.getElementById("taskList");
      list.innerHTML = "";
      tasks.forEach((task, index) => {
        const li = document.createElement("li");
        li.className = task.done ? "done" : "";
        li.innerHTML = `
          <span onclick="toggleTask(${index})">${task.text} <br><small>Due: ${task.due || 'No due date'}</small></span>
          <button onclick="deleteTask(${index})">âœ–</button>
        `;
        list.appendChild(li);
      });
      updateProgress(tasks);
    }

    function updateProgress(tasks) {
      const progressDiv = document.getElementById("progressTracker");
      const total = tasks.length;
      const completed = tasks.filter(task => task.done).length;
      if (total === 0) {
        progressDiv.textContent = "No tasks added yet.";
      } else {
        progressDiv.textContent = `Progress: ${completed} / ${total} tasks completed`;
      }
    }

    function toggleTheme() {
      document.body.classList.toggle("dark-mode");
      localStorage.setItem("theme", document.body.classList.contains("dark-mode") ? "dark" : "light");
    }

    function loadTheme() {
      if (localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark-mode");
      }
    }

    let timer;
    let timeLeft = 25 * 60;

    function startPomodoro() {
      clearInterval(timer);
      timeLeft = 25 * 60;
      updateTimer();
      timer = setInterval(() => {
        timeLeft--;
        updateTimer();
        if (timeLeft <= 0) {
          clearInterval(timer);
          alert("Pomodoro complete! Take a break.");
        }
      }, 1000);
    }

    function updateTimer() {
      const minutes = Math.floor(timeLeft / 60).toString().padStart(2, '0');
      const seconds = (timeLeft % 60).toString().padStart(2, '0');
      document.getElementById("pomodoroDisplay").textContent = `${minutes}:${seconds}`;
    }
  </script>
</body>
</html>

